<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:c="http://java.sun.com/jstl/core"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
<f:view>
   <h:dataTable value = "#{driverController.products}" var = "product"
                styleClass = "employeeTable"
                headerClass = "employeeTableHeader"
                rowClasses = "employeeTableOddRow,employeeTableEvenRow">

      <h:column>
         <f:facet name = "header">ID</f:facet>
         #{product.id}
      </h:column>

      <h:column>
         <f:facet name = "header">Category</f:facet>
         #{product.category}
      </h:column>

      <h:column>
         <f:facet name = "header">Customer ID</f:facet>
         #{product.customer_id}
      </h:column>

      <h:column>
         <f:facet name = "header">Weight</f:facet>
         #{product.weight}KG
      </h:column>
      <h:column>
         <f:facet name = "header">Status</f:facet>
         #{product.status}
      </h:column>

      <h:column>
         <f:facet name="header">
            <h:outputText value="Action" />
         </f:facet>
         <h:outputLabel rendered="#{product.status.equals('Pending')}" >
            <h:form>
               <h:commandButton value="Delivery" action="#{driverController.productDelivery(product.id)}" />
            </h:form>
         </h:outputLabel>
         <h:outputLabel rendered="#{not product.status.equals('Pending')}" >
            <h:outputText value="No action" />
         </h:outputLabel>


      </h:column>
   </h:dataTable>

</f:view>
</html>